<div class="card bg-light min-vh-75 d-flex flex-row col-8 align-items-center container mt-5">
  <h1 class="mx-5" style="font-weight: 900;">Create an account</h1>
  <form class="row p-4" *ngIf="userForm" [formGroup]="userForm" (ngSubmit)="register()">
    <div class="form-group mb-2">
      <label for="userName">First Name:</label>
      <input type="text" class="form-control" formControlName="firstName" placeholder="First Name"
        [ngClass]="{'is-invalid': submitted && userForm.get('firstName')?.errors, 'is-valid': submitted && !userForm.get('firstName')?.errors}">
      <div class="d-block invalid-feedback" *ngIf="submitted && userForm.get('firstName')?.errors?.['required']">
        First Name is required
      </div>
    </div>

    <div class="form-group mb-2">
      <label for="userName">Last Name:</label>
      <input type="text" class="form-control" formControlName="lastName" placeholder="Last Name"
        [ngClass]="{'is-invalid': submitted && userForm.get('lastName')?.errors, 'is-valid': submitted && !userForm.get('lastName')?.errors}">
      <div class="d-block invalid-feedback" *ngIf="submitted && userForm.get('lastName')?.errors?.['required']">
        Last Name is required
      </div>
    </div>

    <div class="form-group mb-2">
      <label for="email">Email:</label>
      <input type="email" class="form-control" formControlName="email" placeholder="Email"
        [ngClass]="{'is-invalid': submitted && userForm.get('email')?.errors, 'is-valid': submitted && !userForm.get('email')?.errors}">
      <div class="d-block invalid-feedback" *ngIf="submitted && userForm.get('email')?.errors?.['required']">
        Email is required
      </div>
      <div class="d-block invalid-feedback" *ngIf="submitted && userForm.get('email')?.errors?.['email']">
        Email is invalid
      </div> 
    </div>

    <div class="form-group mb-2">
      <label for="password">Password:</label>
      <input type="password" class="form-control" formControlName="password" placeholder="Password"
         [ngClass]="{'is-invalid': submitted && userForm.get('password')?.errors, 'is-valid': submitted && !userForm.get('password')?.errors}">
      <div class="d-block invalid-feedback" *ngIf="submitted && userForm.get('password')?.errors?.['required']">
        Password is required
      </div> 
    </div>

    <div class="form-group mb-2">
      <label for="role">Role</label>
      <select class="form-select" formControlName="role">
        <option value="Admin">Admin</option>
        <option value="Customer">Customer</option>
      </select>
      <div class="d-block invalid-feedback" *ngIf="submitted && userForm.get('role')?.errors?.['required']">
        Role is required
      </div>
    </div>

    <div *ngIf="userForm.controls['role'].value == 'Customer'" class="form-group mb-2" >
      <label for="type">Type</label>
      <select class="form-select" formControlName="type">
        <option value="Normal">Normal</option>
        <option value="Subscriber">Subscriber</option>
      </select>
      <div class="d-block invalid-feedback" *ngIf="submitted && userForm.get('type')?.errors?.['required']">
        Type is required
      </div>
    </div>


    <button type="submit" class="btn btn-primary mt-2">Register</button>
  </form>
</div>
